## HTTPS

发展到网络时代,整个网络中最频繁,最重要的操作就是网络中各终端之间的通信;在传输层本身不会做任何的加密,这就好比一辆满载黄金的马车在驿道奔驰,很难不让网络上的黑客视而不见;

如何保证通信之间数据传输的安全性?

说到对网络传输数据的加密,必须要先说安全套接字层(`Secure Socket Layer, SSL`).

`SSL`协议工作于传输层与应用层之间,为应用提供数据的加密传输.而`HTTPS`的全称是`HTTP over SSL`,简单的理解就是在之前的`HTTP`传输上增加了`SSL`协议的加密能力;

### `RSA`

`RSA`非对称加密算法,它把密码革命性地分为公钥和私钥,由于两个密钥并不相同,所以称为非对称加密.

私钥是用来对公钥加密的信息进行解密的,是需要严格保密的.公钥是对信息进行加密,任何人都可以知道,包括黑客;

非对称加密的安全性是基于大质数分解的困难性,在非对称的加密过程中公钥和私钥是一对大质数函数.计算两个大质数的乘积是简单的,但是这个过程的逆运算(即将这个乘积分解为两个质数)是非常困难的.

而在`RSA`算法中,从一个公钥和密文中解密出明文的难度等同于分解两个大质数的难度.

**但是非对称加密并不是完美的,它有一个很明显的缺点是加密和解密耗时长,只适合对少量数据进行处理.**

在`TCP/IP`里,端到端的通信,路途遥远,夜长梦多.有可能在中间过程中被劫持冒充;这样子就产生了信任问题;

如何解决信任问题?

如果有一个具有公信力的组织来证明的身份,这个问题就得到了解决.`CA(Certificate Authority)`就是颁发`HTTPS`证书的组织;

`HTTPS`是当前网站的主流文本传输协议,在基于`HTTPS`进行连接时,就需要数字证书;


### `HTTPS`过程

+ 浏览器向服务器发送请求,请求中包括浏览器支持的协议,并附带一个随机数;
+ 服务器收到请求后,选择某种非对称加密算法,把数字证书签名公钥,身份信息发送给浏览器,同时也附带一个随机数;
+ 浏览器收到后,验证证书的真实性,用服务器的公钥发送握手信息给服务器
+ 服务器解密后,使用之前的随机数计算出一个对称加密的密钥,以此作为加密信息并发送
+ 后续所有的信息发送都是以对称加密进行的;

在整个`HTTPS`的传输过程中,主要分为两个部分,首先是`HTTPS`的握手,然后是数据的传输.

前者是建立一个`HTTPS`的通道,并确定连接使用的加密套件及数据传输使用的密钥.而后者主要使用密钥对数据加密并传输;

#### `HTTPS`握手过程


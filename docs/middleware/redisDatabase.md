
## `服务器中的数据库`

`Redis`服务器将所有数据库都保存在服务器状态`redis.h/redisServer`结构的`db`数组中,`db`数组的每个项都是一个`redis.h/redisDb`结构,每个`redisDb`结构代表一个数据库.

**在初始化服务器时,程序会根据服务器状态的`dbnum`属性来决定应该创建多少个数据库,`dbnum`属性的值由服务器配置的`database`选项决定,默认情况下,该选项的值为`16`,所以`Redis`服务器默认会创建`16`个数据库.**

## `切换数据库`

每个`Redis`客户端都有自己的目标数据库,每当客户端执行数据库写命令或者数据库读命令的时候,目标数据库就会成为这些命令的操作对象.

默认情况下,`Redis`客户端的目标数据库为0号数据库,但客户端可以通过执行`SELECT`命令来切换目标数据库.
+ 在服务器内部,客户端状态`redisClient`结构的`db`属性记录了客户端当前的目标数据库,这个属性是一个指向`redisDb`结构的指针;
+ `redisClient.db`指针指向`redisServer.db`数组的其中一个元素,而被指向的元素就是客户端的目标数据库.
+ 通过修改`redisClient.db`指针,让它指向服务器中的不同数据库,从而实现切换目标数据库的功能;


## `数据库键空间`

`Redis`是一个键值对(`key-value pair`)数据库服务器,服务器中的每个数据库都由一个`redis.h/redisDb`结构表示,其中,`redisDb`结构的`dict`字典保存了数据库中的所有键值对,称这个字典为键空间(`key space`):
+ 键空间和用户所见的数据库是直接对应的:
  + 键空间的键也就是数据库的键,每个键都是一个字符串对象.
  + 键空间的值也就是数据库的值,每个值可以是字符串对象,列表对象,哈希表对象,集合对象和有序集合对象中的任意一种`Redis`对象.


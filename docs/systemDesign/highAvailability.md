## `负载均衡`与`反向代理`

用户访问时通过如`www.qianshenghua.com`的方式访问,在请求时,浏览器首先会查询`DNS`服务器获取对应`IP`,然后通过此`IP`访问对应的服务;

对此,是将`www.qianshenghua.com`域名映射多个`IP`,但是,存在一个最简单的问题,假设某台服务器重启或者出现故障,`DNS`会有一定的缓存时间,故障后切换时间长,而且没有对后端服务进行心跳检查和失败重试的机制;

+ 外网`DNS`应该用来实现用`GSLB(全局负载均衡)`进行流量调度,如将用户分配到离他最近的服务器上以提升体验.而且当某一区域的机房出现问题时,可以通过`DNS`指向其他区域的`IP`来使服务可用;
+ 内网`DNS`,可以实现简单的轮询负载均衡.考虑选择`HAProxy`和`Nginx`
  + `Nginx`一般用于七层负载均衡,其吞吐量有一定限制的;
    + 为了提升整体吞吐量,会在`DNS`和`Nginx`之间引入接入层;如`LVS`或`F5`;
    + `DNS`解析到`LVS/F5`,然后`LVS/F5`转发给`Nginx`,再由`Nginx`转发给后端`RealServer`;


### `负载均衡`



# final

final域的读和写更像是普通的变量访问;
>1. 在构造函数内对一个final域的写入,与随后把这个被构造对象的引用赋值给一个引用变量,这两个操作之间不能重排序;
2. 初次读一个包含final域的对象的引用,与随后初次读这个final域,这两个操作之间不能重排序;

## 写final域的重排序规则

> 1. JMM禁止编译器把final域的写重排序到构造函数之外.
2. 编译器会在final域的写之后,构造函数return之前,插入一个StoreStore屏障,这个屏障禁止处理器把final域的写重排序到构造函数之外;

## 读final域的重排序规则

> * 在一个线程中,初次读对象引用域初次读该对象包含的final域,JMM禁止处理器重排序这个两个操作，编译器会在读final域操作的前面插入一个LoadLoad屏障

